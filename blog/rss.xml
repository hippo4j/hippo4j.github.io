<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Hippo4j Blog</title>
        <link>https://hippo4j.cn/blog</link>
        <description>Hippo4j Blog</description>
        <lastBuildDate>Mon, 06 Jun 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>zh</language>
        <item>
            <title><![CDATA[Hippo-4J发布1.3.0版本]]></title>
            <link>https://hippo4j.cn/blog/Hippo-4J发布1.3.0版本</link>
            <guid>Hippo-4J发布1.3.0版本</guid>
            <pubDate>Mon, 06 Jun 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[大家好，我是 小马哥。]]></description>
            <content:encoded><![CDATA[<p>大家好，我是 <strong>小马哥</strong>。</p><p>Hippo4j 距离上一个版本 1.2.1 已经过去一个月的时间。在此期间，由 <strong>8 位贡献者</strong> 提交了 <strong>170+ commits</strong>，正式发布 <strong>1.3.0</strong> 版本。</p><p>注：这是一个 <strong>兼容历史版本</strong> 的重大升级。</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hippo-4j-130">HIPPO-4J 1.3.0<a class="hash-link" href="#hippo-4j-130" title="标题的直接链接">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="feature">Feature<a class="hash-link" href="#feature" title="标题的直接链接">​</a></h3><ol><li>添加 RabbitMQ 线程池监控及动态变更</li><li>添加 RocketMQ 线程池监控及动态变更</li><li>添加 Dubbo 线程池监控及动态变更</li><li>添加 SpringCloud Stream RocketMQ 消费线程池监控及动态变更</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="refactor">Refactor<a class="hash-link" href="#refactor" title="标题的直接链接">​</a></h3><ol><li>重构容器线程池查询及修改功能</li><li>优化配置中心触发监听后，所执行的数据变更逻辑</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="optimize">Optimize<a class="hash-link" href="#optimize" title="标题的直接链接">​</a></h3><ol><li>前端控制台删除无用组件</li><li>服务端页面字段未显示中文</li><li>控制台 UI 优化</li><li>修改线程池实例后实时刷新列表参数</li><li>容器线程池编辑仅限 Admin 权限</li><li>SpringBoot Starter 变更包路径</li></ol><h3 class="anchor anchorWithStickyNavbar_LWe7" id="bug">BUG<a class="hash-link" href="#bug" title="标题的直接链接">​</a></h3><ol><li>修复 SpringBoot Nacos 动态刷新不生效</li><li>报警配置 alarm=false 不配置通知报警平台和接收人报错</li></ol><h2 class="anchor anchorWithStickyNavbar_LWe7" id="三方框架线程池适配">三方框架线程池适配<a class="hash-link" href="#三方框架线程池适配" title="标题的直接链接">​</a></h2><p>Hippo4j 1.3.0 最大的功能发布就是开发出了 <strong>适配三方框架的基础框架</strong>。</p><p>目前已完成 <strong>Dubbo、RabbitMQ、RocketMQ、RocketMQSpringCloudStream</strong> 的线程池适配，后续还会接入 <strong>Kafka、Hystrix</strong> 等框架或中间件的线程池适配。</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="引入适配三方框架-jar-包">引入适配三方框架 Jar 包<a class="hash-link" href="#引入适配三方框架-jar-包" title="标题的直接链接">​</a></h3><p>引入 Hippo4j server 或 core 的 maven jar 坐标后，还需要引入对应的框架适配 jar：</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">cn.hippo4j</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- Dubbo --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hippo4j-spring-boot-starter-adapter-dubbo</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- RabbitMQ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hippo4j-spring-boot-starter-adapter-rabbitmq</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- RocketMQ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hippo4j-spring-boot-starter-adapter-rocketmq</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">&lt;!-- SpringCloud Stream RocketMQ --&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hippo4j-spring-boot-starter-adapter-spring-cloud-stream-rocketmq</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.3.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>如果想觉得引入多个 jar 包繁琐，可以仅需引入一个全量包，Hippo4j 框架底层会根据各中间件的条件，判断加载具体线程池适配器。</p><div class="language-xml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-xml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">cn.hippo4j</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">groupId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">hippo4j-spring-boot-starter-adapter-all</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">artifactId</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token tag punctuation" style="color:#393A34">&lt;</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain">1.3.0</span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">version</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token tag punctuation" style="color:#393A34">&lt;/</span><span class="token tag" style="color:#00009f">dependency</span><span class="token tag punctuation" style="color:#393A34">&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hippo-4j-server">HIPPO-4J Server<a class="hash-link" href="#hippo-4j-server" title="标题的直接链接">​</a></h3><p>Hippo4j server 引入上述适配 jar 包后，即可在 Hippo4j server 的控制台进行查看及修改三方框架线程池。</p><p><img loading="lazy" src="https://oss.open8gu.com/image-20220531194810047.png" alt="图1 线程池适配列表" class="img_ev3q"></p><p>点击编辑即可修改该 Java 应用对应的框架底层线程池。</p><p><img loading="lazy" src="https://oss.open8gu.com/image-20220605152549732.png" alt="图2 修改三方线程池" class="img_ev3q"></p><p>点击 <strong>全部修改</strong> 按钮可以修改当前组下所有应用实例的线程池配置。</p><p>修改成功后，应用控制台打印以下日志，即为修改成功。</p><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">input</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token class-name">RocketMQ</span><span class="token plain"> consumption thread pool parameter change</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> coreSize </span><span class="token operator" style="color:#393A34">::</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> maximumSize </span><span class="token operator" style="color:#393A34">::</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h3 class="anchor anchorWithStickyNavbar_LWe7" id="hippo-4j-core">HIPPO-4J Core<a class="hash-link" href="#hippo-4j-core" title="标题的直接链接">​</a></h3><p>Hippo4j core 除了依赖上述适配 Jar 包外，还需要在配置中心添加以下配置项。</p><div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">spring</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">dynamic</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">thread-pool</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token comment" style="color:#999988;font-style:italic"># 省略其它配置</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">adapter-executors</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># threadPoolKey 代表线程池标识</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">threadPoolKey</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'input'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token comment" style="color:#999988;font-style:italic"># mark 为三方线程池框架类型，参见文初已支持框架集合</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">mark</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">'RocketMQSpringCloudStream'</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">corePoolSize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">maximumPoolSize</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="复制代码到剪贴板" title="复制" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="gitee-gvp">Gitee GVP<a class="hash-link" href="#gitee-gvp" title="标题的直接链接">​</a></h2><p>Hippo4j 获得了一些宝贵的荣誉，这属于每一位对 Hippo4j 做出过贡献的成员。</p><p><img loading="lazy" src="https://oss.open8gu.com/170607238-7308c9be-1d63-46a6-852c-eef2e4cf7405.jpeg" alt="图3 GVP 证书" class="img_ev3q"></p><p>感谢所有为 Hippo4j 做出贡献的开发者！</p><p><a href="https://github.com/opengoofy/hippo4j/graphs/contributors" target="_blank" rel="noopener noreferrer">https://github.com/opengoofy/hippo4j/graphs/contributors</a></p><p><img loading="lazy" src="https://oss.open8gu.com/image-20220605151136276.png" alt="图4 Hippo4j 开发者" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="最后总结">最后总结<a class="hash-link" href="#最后总结" title="标题的直接链接">​</a></h2><p>开源不易，如果各位小伙伴看了 Hippo4j 框架后有所收获，希望能帮忙在 Github、Gitee 点个 star，谢谢。</p><p><strong>Github</strong>：<a href="https://github.com/opengoofy/hippo4j" target="_blank" rel="noopener noreferrer">https://github.com/opengoofy/hippo4j</a></p><p><strong>Gitee</strong>：<a href="https://gitee.com/mabaiwancn/hippo4j" target="_blank" rel="noopener noreferrer">https://gitee.com/mabaiwancn/hippo4j</a></p><p>目前已有 <strong>10+</strong> 公司在生产环境使用 Hippo4j，如果贵公司使用了 Hippo4j，请在下方 Issue 登记，谢谢。</p><p><strong>Issue</strong>：<a href="https://github.com/opengoofy/hippo4j/issues/13" target="_blank" rel="noopener noreferrer">https://github.com/opengoofy/hippo4j/issues/13</a></p><p>登记使用不会对公司有任何影响，仅为了扩大 Hippo4j 影响力，帮助它能走得更远。</p>]]></content:encoded>
            <category>hippo4j</category>
            <category>release</category>
            <category>1.3.0</category>
        </item>
    </channel>
</rss>